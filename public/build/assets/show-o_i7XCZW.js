document.getElementById("deleteButton").addEventListener("click",r);document.getElementById("cancelButton").addEventListener("click",n);function r(){document.getElementById("confirmationDialog").style.display="flex"}function n(){document.getElementById("confirmationDialog").style.display="none"}document.getElementById("carForm").addEventListener("submit",function(o){o.preventDefault();const c=document.getElementById("carForm").dataset.carId,t=new FormData(this);t.append("_method","DELETE"),fetch(`/cars/${c}`,{method:"POST",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:t}).then(e=>{if(!e.ok)throw new Error("Ошибка при удалении");return e.json()}).then(e=>{e.success&&(window.location.href="/cars")}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при удалении автомобиля"),n()})});
